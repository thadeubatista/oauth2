{"version":3,"sources":["services/api.tsx","utils/constantes.tsx","services/seguranca.tsx","routes/Route.tsx","components/Mensagens/index.tsx","pages/Login/index.tsx","utils/formatacao.tsx","services/produto.tsx","components/Modal/Confirmacao/index.tsx","components/Modal/Cadastro/index.tsx","components/MenuAppBar/index.tsx","pages/Produto/index.tsx","routes/index.tsx","global/styles.js","App.tsx","serviceWorker.tsx","index.tsx"],"names":["api","axios","create","baseURL","withCredentials","interceptors","request","use","config","console","log","url","indexOf","headers","Authorization","localStorage","getItem","error","Promise","reject","response","status","requestConfig","efetuarLogout","a","delete","efetuarLogin","usuario","senha","body","post","setItem","data","access_token","obterNovoAccessToken","isTokenValido","token","dataPayload","decodificarToken","exp","dataToken","Date","base64","split","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","RouteWrapper","isPrivate","Component","component","rest","authenticated","to","AlertComponent","props","elevation","variant","Mensagens","Snackbar","open","mostrarMensagem","autoHideDuration","onClose","fecharMensagem","severity","tipo","mensagem","Login","useState","setUsuario","setSenha","setMensagem","setTipo","setMostrarMensagem","logar","history","push","msg","montarMensagemErro","className","Grid","container","direction","justify","alignContent","TextField","id","label","value","onChange","e","target","type","Button","color","onClick","formatarParaMoeda","v","valor","copia","length","formatoMoeda","campo","undefined","vr","Number","toLocaleString","minimumFractionDigits","currency","includes","concat","getProdutos","get","deletar","produto","codigo","salvar","formatarObjetoParaRequest","editar","put","produtoRequest","tableData","propriedadesObjeto","str","de","para","pos","replaceAll","trim","Alert","AlertDialog","Dialog","abrir","setAbrir","aria-labelledby","aria-describedby","requisicaoAtiva","LinearProgress","DialogTitle","titulo","DialogContent","DialogContentText","DialogActions","acaoFechar","acaoExcluir","autoFocus","mensagemSucesso","fecharMensagemSucesso","AlertCadastro","mostrarMensagemErro","fecharMensagemErro","mensagemErro","children","acaoSalvar","MenuAppBar","anchorEl","setAnchorEl","usuarioLogado","setUsuarioLogado","useEffect","nome","obterUsuarioLogado","logout","removeItem","window","location","href","style","flexGrow","AppBar","position","Toolbar","Typography","IconButton","edge","aria-label","aria-controls","aria-haspopup","event","currentTarget","Menu","keepMounted","Boolean","MenuItem","useStyles","makeStyles","theme","backdrop","zIndex","drawer","CadastroProduto","abrirModal","setAbrirModal","abrirModalCadastro","setAbrirModalCadastro","produtoSelecionado","setProdutoSelecionado","produtos","setProdutos","mostrarLoading","setMostrarLoading","setRequisicaoAtiva","mostrarMensagemSucesso","setMostrarMensagemSucesso","setMostrarMensagemErro","setMensagemErro","mensagemSucessoExclusao","setMostrarMensagemSucessoExclusao","requisicaoAtivaExclusao","setRequisicaoAtivaExclusao","classes","content","listarProdutos","columns","title","field","cellStyle","width","maxWidth","padding","render","rowData","salvarProduto","lista","produtoSalvo","indice","findIndex","prd","splice","finalizarSalvar","Array","err","mensagemUsuario","item","xs","onChangePage","page","actions","icon","tooltip","_","produtoEditar","novoProduto","abrirModalEditar","confirmaExcluir","options","actionsColumnIndex","Fab","float","marginRight","margin","inputProps","maxLength","fullWidth","descricao","required","Backdrop","CircularProgress","Routes","Route","path","exact","Produto","createGlobalStyle","App","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1f8aa9e6.chunk.js","sourcesContent":["import axios from 'axios';\nimport { descricaoToken } from 'utils/constantes';\nimport { isTokenValido, obterNovoAccessToken } from './seguranca';\n\nconst api = axios.create({\n  baseURL: 'http://localhost:8080/api',\n  withCredentials: true,\n});\n\napi.interceptors.request.use(\n  (config) => {\n    console.log('INTERCEPTO: ', config);\n\n\n\n    const { url } = config;\n    if (url) {\n      if (url.indexOf('oauth/token') === -1) {\n        config.headers.Authorization = `Bearer ${localStorage.getItem(\n          descricaoToken,\n        )}`;\n      }\n    }\n    return config;\n  },\n  (error) =>\n    // handle the error\n    Promise.reject(error)\n  ,\n);\n\napi.interceptors.response.use((response) => {\n  // Do something with response data\n  console.log('RESPONSE INTERCEPTOR: ', response);\n  return response;\n},\n  (error) => {\n    if (error && error.response && error.response.status === 401) {\n      const requestConfig = error.config;\n      return axios(requestConfig);\n    }\n    return Promise.reject(error);\n  });\nexport default api;\n","export const descricaoToken = \"@token-arce\";","\nimport api from './api';\nimport { descricaoToken } from 'utils/constantes';\n\nfunction getHeader() {\n  return {\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      Authorization: 'Basic YWRtaW46YWRtaW4=',\n    },\n  };\n}\n\nexport async function efetuarLogout() {\n  const response = await api.delete('tokens/revoke');\n  console.log(response);\n  return response;\n}\n\nexport async function efetuarLogin(usuario: string, senha: string) {\n  const body = `username=${usuario}&password=${senha}&grant_type=password`;\n  const response = await api.post('oauth/token', body, getHeader());\n  console.log(response);\n  localStorage.setItem(descricaoToken, response.data.access_token);\n}\n\nexport async function obterNovoAccessToken() {\n  const body = 'grant_type=refresh_token';\n  const response = await api.post('oauth/token', body, getHeader());\n  localStorage.setItem(descricaoToken, response.data.access_token);\n  console.log('responsta: ', response);\n}\n\nexport function isTokenValido() {\n  const token = localStorage.getItem(descricaoToken);\n  console.log('isTOKENVALIDO: ', token);\n  if (token) {\n    const payload = decodificarToken(token);\n    const dataPayload = payload.exp * 1000;\n    const dataToken = new Date(dataPayload);\n    if (dataToken >= new Date()) {\n      console.log('TOKEN VALIDO: ', dataToken);\n      return true;\n    }\n  }\n  console.log('TOKEN INVALIDO: ', token);\n  return false;\n}\n\nexport function obterUsuarioLogado() {\n  const token = localStorage.getItem(descricaoToken);\n  if (token) {\n    const payload = decodificarToken(token);\n    return payload.nome\n  }\n  return 'Visitante';\n}\n\nfunction decodificarToken(token: string) {\n  const base64Url = token.split('.')[1];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  const jsonPayload = decodeURIComponent(\n    atob(base64)\n      .split('')\n      .map((c) => `%${(`00${c.charCodeAt(0).toString(16)}`).slice(-2)}`).join(''));\n\n  return JSON.parse(jsonPayload);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect, Route } from 'react-router-dom';\nimport { isTokenValido } from '../services/seguranca';\n\nfunction RouteWrapper({\n  isPrivate = true, component: Component, ...rest\n}) {\n  const authenticated =  isTokenValido();\n\n  if (!authenticated && isPrivate) {\n    return <Redirect to=\"/\" />;\n  }\n\n  if (authenticated && !isPrivate) {\n    \n    return <Redirect to=\"/produto\" />;\n  }\n\n  console.log('não redirecionou para produto: ');\n\n  return <Route {...rest} component={Component} />;\n}\n\nexport default RouteWrapper;\n","import React from 'react';\n\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\n\nfunction AlertComponent(props: AlertProps) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nexport default function Mensagens(props: any) {\n  return (\n    <Snackbar open={props.mostrarMensagem} autoHideDuration={6000} onClose={props.fecharMensagem}>\n      <AlertComponent onClose={props.fecharMensagem} severity={props.tipo}>\n        {props.mensagem}\n      </AlertComponent>\n    </Snackbar>\n  );\n}\n","import React, { useState } from 'react';\n\nimport TextField from '@material-ui/core/TextField';\nimport { Button, Grid } from '@material-ui/core';\nimport './styles.css';\nimport { efetuarLogin } from '../../services/seguranca';\nimport Mensagens from '../../components/Mensagens';\n\n\nexport default function Login(props: any) {\n  const [usuario, setUsuario] = useState('');\n  const [senha, setSenha] = useState('');\n  const [mensagem, setMensagem] = useState('');\n  const [tipo, setTipo] = useState('');\n  const [mostrarMensagem, setMostrarMensagem] = useState(false);\n\n  const setarUsuario = (e: any) => {\n    setUsuario(e.target.value);\n  };\n\n  const setarSenha = (e: any) => {\n    setSenha(e.target.value);\n  };\n\n  const logar = async () => {\n    try {\n      await efetuarLogin(usuario, senha);\n      props.history.push('/produto');\n    } catch (err) {\n      const msg = montarMensagemErro(err);\n      setMensagem(msg);\n      setTipo('error');\n      setMostrarMensagem(true);\n    }\n  };\n\n  const montarMensagemErro = (error: any) => {\n    let msg = '';\n    console.log(error.response);\n    if (error && error.response && error.response.status === 400) {\n      if (error.response.data && error.response.data.error === 'invalid_grant') {\n        msg = 'Usuário ou senha inválida.';\n      }\n    }\n    if (!msg) {\n      msg = 'Error ao tentar logar. Contacte o administrador do sistema';\n    }\n    return msg;\n  };\n\n  const fecharMensagem = () => {\n    setMostrarMensagem(false);\n  };\n\n\n  return (\n    <>\n      <div className=\"container\">\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignContent=\"center\"\n        >\n          <TextField\n            id=\"outlined-basic\"\n            label=\"Usuário\"\n            variant=\"outlined\"\n            value={usuario}\n            onChange={setarUsuario}\n          />\n          <br />\n          <TextField\n            id=\"outlined-basic\"\n            label=\"Senha\"\n            type=\"password\"\n            variant=\"outlined\"\n            value={senha}\n            onChange={setarSenha}\n          />\n          <br />\n          <Button variant=\"contained\" color=\"primary\" onClick={logar}>\n            Login\n          </Button>\n          <Mensagens mostrarMensagem={mostrarMensagem} fecharMensagem={fecharMensagem} tipo={tipo} mensagem={mensagem} />\n        </Grid>\n      </div>\n    </>\n  );\n}\n","export function formatarParaMoeda(v: string) {\n    let valor = v.replace(/[\\D]+/g, \"\");\n    if (valor === \"00\") {\n      return \"\";\n    }\n    valor = valor.replace(/^(0+)(\\d)/g, \"$2\");\n  \n    if (+valor <= 0) {\n      return \" 0,00\";\n    }\n  \n    const copia = valor;\n  \n    if (valor.length > 2) {\n      valor = valor.replace(/([0-9]{2})$/g, \",$1\");\n    }\n  \n    if (valor.length === 2) {\n      valor = valor.replace(/([0-9]{2})$/g, \"0,$1\");\n    }\n  \n    if (valor.length === 1) {\n      valor = \"0,0\" + valor;\n    }\n  \n    if (valor.length > 6) {\n      valor = valor.replace(/([0-9]{3}),([0-9]{2}$)/g, \".$1,$2\");\n    }\n    if (valor.length > 9) {\n      valor = valor.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\n    }\n    return copia ? ` ${valor}` : \"\";\n  }\n\n  export function formatoMoedaBancoDeDados(valor: string) {\n    if (valor && valor.length > 0) {\n      valor = replaceAll(valor, \".\", \"\");\n      return Number(\n        valor\n          .replace(\"R$\", \"\")\n          .replace(\",\", \".\")\n          .trim()\n      );\n    }\n    return null;\n  }\n\n  export function formatoMoeda(campo: any) {\n    if (campo !== null && campo !== undefined) {\n      const vr = Number(campo).toLocaleString(\"pt-BR\", {\n        minimumFractionDigits: 2,\n        currency: \"BRL\"\n      });\n      if (vr.includes(\",\")) {\n        return vr;\n      } else {\n        return vr.concat(\",00\");\n      }\n    }\n    if (campo === undefined) {\n      campo = \"\";\n    }\n    return campo;\n  }\n\n  function replaceAll(str, de, para) {\n    let pos = str.indexOf(de);\n    while (pos > -1) {\n      str = str.replace(de, para);\n      pos = str.indexOf(de);\n    }\n    return str;\n  }","import api from './api';\nimport { isTokenValido, obterNovoAccessToken } from './seguranca';\nimport Produto from '../model/produto';\nimport { formatoMoedaBancoDeDados } from 'utils/formatacao';\n\nconst URL = 'produtos';\n\ninterface Helper {\n  tableData: any\n}\n\n\nexport async function getProdutos() {\n  if (!isTokenValido()) {\n    await obterNovoAccessToken();\n  }\n  const response = await api.get(`${URL}/paginado`);\n  return response;\n}\n\nexport async function consultarProdutoPorId(codigo: number) {\n  if (!isTokenValido()) {\n    await obterNovoAccessToken();\n  }\n  const response = await api.get(`${URL}/${codigo}`);\n  return response;\n}\n\nexport async function deletar(produto: Produto) {\n  if (!isTokenValido()) {\n    await obterNovoAccessToken();\n  }\n  const response = await api.delete(`${URL}/${produto.codigo}`);\n  console.log('RETORNO DELETE: ', response);\n}\n\nexport async function salvar(produto: Produto) {\n  if (!isTokenValido()) {\n    await obterNovoAccessToken();\n  }\n  produto = formatarObjetoParaRequest(produto);\n  const response = await api.post(URL, produto);\n  return response.data;\n}\n\nexport async function editar(produto: any) {\n  if (!isTokenValido()) {\n    await obterNovoAccessToken();\n  }\n  produto = formatarObjetoParaRequest(produto);\n  const response = await api.put(`${URL}/${produto.codigo}`, produto);\n  return response.data;\n}\n\nfunction formatarObjetoParaRequest(produto: any) {\n  if (produto) {\n    //removendo propriedade tableData injetada no objeto pelo componente MaterialTable\n    const propriedadesObjeto = ({ tableData, ...rest }) => rest;\n    const produtoRequest = propriedadesObjeto(produto);\n    return { ...produtoRequest, valor: formatoMoedaBancoDeDados(produto.valor) }\n  }\n  return produto;\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { LinearProgress } from '@material-ui/core';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\n\nfunction Alert(props: AlertProps) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nexport default function AlertDialog(props: any) {\n  const fecharModal = () => {\n    props.setAbrir(false);\n  };\n\n  return (\n    <>\n      <Dialog\n        open={props.abrir}\n        onClose={fecharModal}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        {props.requisicaoAtiva && <LinearProgress />}\n        <DialogTitle id=\"alert-dialog-title\">{props.titulo}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            {props.mensagem}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={props.acaoFechar} color=\"primary\">\n            Não\n          </Button>\n          <Button onClick={props.acaoExcluir} color=\"primary\" autoFocus>\n            Sim\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Snackbar open={props.mensagemSucesso} autoHideDuration={4000} onClose={props.fecharMensagemSucesso}>\n        <Alert onClose={props.fecharMensagemSucesso} severity=\"success\">\n          Excluído com sucesso!\n        </Alert>\n      </Snackbar>\n    </>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { LinearProgress } from '@material-ui/core';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\n\nfunction AlertComponent(props: AlertProps) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nexport default function AlertCadastro(props: any) {\n  const fecharModal = () => {\n    props.setAbrir(false);\n  };\n\n  return (\n    <>\n      <Dialog\n        open={props.abrir}\n        onClose={fecharModal}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        {props.requisicaoAtiva && <LinearProgress />}\n\n        <Snackbar open={props.mostrarMensagemErro} autoHideDuration={6000} onClose={props.fecharMensagemErro}>\n          <AlertComponent onClose={props.fecharMensagemErro} severity=\"error\">\n            {props.mensagemErro}\n          </AlertComponent>\n        </Snackbar>\n\n        <DialogTitle id=\"alert-dialog-title\">{props.titulo}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            {props.children}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={props.acaoFechar} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={props.acaoSalvar} color=\"primary\" autoFocus>\n            Salvar\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Snackbar open={props.mensagemSucesso} autoHideDuration={4000} onClose={props.fecharMensagemSucesso}>\n        <AlertComponent onClose={props.fecharMensagemSucesso} severity=\"success\">\n          Salvo com sucesso!\n        </AlertComponent>\n      </Snackbar>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { efetuarLogout, obterUsuarioLogado } from 'services/seguranca';\nimport { descricaoToken } from 'utils/constantes';\nimport { IconButton } from '@material-ui/core';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\n\nexport default function MenuAppBar(props:any) {\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [usuarioLogado, setUsuarioLogado] = useState('');\n\n  useEffect(() => {\n    setUsuarioLogado(obterUsuarioLogado());\n    console.log('USUARIO LOGADO: ', usuarioLogado);\n  }, [usuarioLogado])\n\n  const handleClick = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const logout = async () => {\n    try{\n      await efetuarLogout();\n      localStorage.removeItem(descricaoToken);\n      setAnchorEl(null);\n      window.location.href = '/'\n      console.log('retorno')\n    }catch(error){\n\n    }\n  };\n\n  const handleClose = () => {\n      setAnchorEl(null);\n  };\n\n  return (\n    <div style={{flexGrow: 1}}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" style={{flexGrow: 1}}>\n            Projeto Arce\n          </Typography>\n          <IconButton\n              edge=\"end\"\n              aria-label=\"account of current user\"\n              aria-controls='primary-search-account-menu'\n              aria-haspopup=\"true\"\n              onClick={handleClick}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n        </Toolbar>\n      </AppBar>\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}> \n        <MenuItem >usuário: {usuarioLogado}</MenuItem>\n        <MenuItem onClick={logout}>Logout</MenuItem>\n      </Menu>\n    </div>\n  );\n}\n","/* eslint-disable no-alert */\n/* eslint-disable no-restricted-globals */\nimport React, { useState, useEffect } from 'react';\nimport MaterialTable from 'material-table';\nimport {\n  Fab, TextField, Backdrop, CircularProgress, Grid,\n} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  getProdutos, deletar, salvar, editar, consultarProdutoPorId,\n} from '../../services/produto';\nimport AlertDialog from '../../components/Modal/Confirmacao';\nimport AlertCadastro from '../../components/Modal/Cadastro';\nimport Produto from '../../model/produto';\nimport { formatarParaMoeda, formatoMoeda } from 'utils/formatacao';\nimport MenuAppBar from 'components/MenuAppBar';\nimport \"./styles.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}));\n\nexport default function CadastroProduto() {\n  const [abrirModal, setAbrirModal] = useState(false);\n  const [abrirModalCadastro, setAbrirModalCadastro] = useState(false);\n  const [produtoSelecionado, setProdutoSelecionado] = useState<Produto>({} as Produto);\n  const [produtos, setProdutos] = useState<Array<Produto>>([]);\n  const [mostrarLoading, setMostrarLoading] = useState(false);\n  const [requisicaoAtiva, setRequisicaoAtiva] = useState(false);\n  const [mostrarMensagemSucesso, setMostrarMensagemSucesso] = useState(false);\n  const [mostrarMensagemErro, setMostrarMensagemErro] = useState(false);\n  const [mensagemErro, setMensagemErro] = useState('');\n  const [mensagemSucessoExclusao, setMostrarMensagemSucessoExclusao] = useState(false);\n  const [requisicaoAtivaExclusao, setRequisicaoAtivaExclusao] = useState(false);\n  const classes = useStyles();\n\n\n  useEffect(() => {\n    setMostrarLoading(true);\n    async function listarProdutos() {\n      const response = await getProdutos();\n      console.log(response);\n      setProdutos(response.data.content);\n      setMostrarLoading(false);\n    }\n    listarProdutos();\n  }, []);\n\n  const columns: any = [\n    { title: 'Código', field: 'codigo', cellStyle: {\n      width: 20,\n      maxWidth: 20\n    }},\n    { title: 'Descrição', field: 'descricao', cellStyle:{ padding: '5px'}},\n    {\n      title: \"Valor (R$)\",\n      field: \"valor\",\n      cellStyle: {\n        width: 20,\n        maxWidth: 20\n      },\n      render: rowData => {\n        return <Grid>{formatoMoeda(rowData.valor)}</Grid>;\n      }\n    }\n  ];\n\n  const salvarProduto = async () => {\n    setRequisicaoAtiva(true);\n      try {\n        let lista:Array<Produto> = produtos;\n        if (produtoSelecionado && produtoSelecionado.codigo) {\n          const produtoSalvo = await editar(produtoSelecionado);\n\n          const indice = lista.findIndex((prd) => prd.codigo === produtoSelecionado.codigo);\n          lista.splice(indice, 1, produtoSalvo);\n        } else {\n          const produtoSalvo = await salvar(produtoSelecionado);\n          lista = [...lista, produtoSalvo];\n        }\n        setProdutos(lista);\n        finalizarSalvar();\n      } catch (err) {\n        setMensagemErro(montarMensagemErro(err));\n        setMostrarMensagemErro(true);\n        setRequisicaoAtiva(false);\n      }\n  };\n\n  const montarMensagemErro = (error: any) => {\n    let msg = '';\n    if (error && error.response) {\n      if (error.response.data) {\n        if(error.response.data instanceof Array){\n          error.response.data.map((err: any) => {\n            msg += `${err.mensagemUsuario} `;\n          });\n        }else{\n          if(error.response.data.error === 'access_denied') {\n            msg = \"Usuário sem permissão para realizar essa operação.\"\n          }\n        }\n      }\n    } else {\n      msg = 'Erro desconhecido';\n    }\n    return msg;\n  };\n\n  const finalizarSalvar = () => {\n    setAbrirModalCadastro(false);\n    setProdutoSelecionado({} as Produto);\n    setRequisicaoAtiva(false);\n    setMostrarMensagemSucesso(true);\n  };\n\n  const abrirModalEditar = (produtoEditar: any) => {\n    const novoProduto = {...produtoEditar};\n    novoProduto.valor = formatoMoeda(novoProduto.valor)\n    setProdutoSelecionado(novoProduto);\n    setAbrirModalCadastro(true);\n  };\n\n  const abrirModalSalvar = () => {\n    setProdutoSelecionado({} as Produto);\n    setAbrirModalCadastro(true);\n  };\n\n  const confirmaExcluir = (event: any, rowData: any) => {\n    setProdutoSelecionado(rowData);\n    setAbrirModal(true);\n  };\n\n  const acaoExcluir = async () => {\n    try {\n      setRequisicaoAtivaExclusao(true);\n        await deletar(produtoSelecionado);\n\n        const lista:Array<Produto> = produtos;\n        const indice = lista.findIndex((prd) => prd.codigo === produtoSelecionado.codigo);\n        lista.splice(indice, 1);\n\n        console.log('PRODUTO SELECIONADO: ', requisicaoAtivaExclusao);\n\n        setAbrirModal(false);\n        setRequisicaoAtivaExclusao(false);\n        setMostrarMensagemSucessoExclusao(true);\n    } catch (err) {\n      setRequisicaoAtivaExclusao(false);\n      console.log(err);\n    }\n  };\n\n  const acaoFecharModal = () => {\n    setAbrirModal(false);\n  };\n\n  const acaoFecharModalProduto = () => {\n    setAbrirModalCadastro(false);\n  };\n\n  const fecharMensagemSucesso = () => {\n    setMostrarMensagemSucesso(false);\n  };\n\n  const fecharMensagemSucessoExclusao = () => {\n    setMostrarMensagemSucessoExclusao(false);\n  };\n\n  const fecharMensagemErro = () => {\n    setMostrarMensagemErro(false);\n  };\n\n  return (\n    <>\n      <MenuAppBar></MenuAppBar>\n      <Grid item xs={12}>\n      <MaterialTable\n        title=\"Produtos\"\n        columns={columns}\n        data={produtos}\n        onChangePage={(page) => console.log('PÁGINAÇÃO: ', page)}\n        \n        actions={[\n          {\n\n            icon: 'edit',\n            tooltip: 'Save User',\n            onClick: (_, rowData) => { abrirModalEditar(rowData); },\n          },\n          {\n            icon: 'delete',\n            tooltip: 'Delete User',\n            onClick: (event, rowData) => confirmaExcluir(event, rowData),\n          },\n        ]}\n        options={{\n          actionsColumnIndex: -1,\n        }}\n      />\n      </Grid>\n      <br />\n      <Fab\n        color=\"primary\"\n        aria-label=\"add\"\n        style={{ float: 'right', marginRight: '20px' }}\n        onClick={abrirModalSalvar}\n      >\n        <AddIcon />\n      </Fab>\n\n      <AlertDialog\n        titulo=\"Excluir Produto\"\n        abrir={abrirModal}\n        setAbrir={setAbrirModal}\n        mensagem=\"Confirma a exclusão do produto?\"\n        acaoExcluir={acaoExcluir}\n        acaoFechar={acaoFecharModal}\n\n        requisicaoAtiva={requisicaoAtivaExclusao}\n        mensagemSucesso={mensagemSucessoExclusao}\n        fecharMensagemSucesso={fecharMensagemSucessoExclusao}\n      />\n\n      <AlertCadastro\n        titulo=\"Salvar Produto\"\n        abrir={abrirModalCadastro}\n        setAbrir={setAbrirModalCadastro}\n        acaoSalvar={salvarProduto}\n        margin=\"dense\"\n        acaoFechar={acaoFecharModalProduto}\n        requisicaoAtiva={requisicaoAtiva}\n        mensagemSucesso={mostrarMensagemSucesso}\n        fecharMensagemSucesso={fecharMensagemSucesso}\n        mensagemErro={mensagemErro}\n        mostrarMensagemErro={mostrarMensagemErro}\n        fecharMensagemErro={fecharMensagemErro}\n      >\n        <TextField\n          inputProps={{ maxLength: 30 }}\n          autoFocus\n          id=\"name\"\n          label=\"Produto\"\n          variant=\"outlined\"\n          fullWidth\n          value={produtoSelecionado.descricao}\n          onChange={(e) => setProdutoSelecionado({...produtoSelecionado, descricao: e.target.value})}\n        />\n        <br />\n        <br />\n        <TextField\n          type=\"text\"\n          required\n          label=\"Valor (R$)\"\n          variant=\"outlined\"\n          id=\"valorProduto\"\n          fullWidth\n          value={produtoSelecionado.valor}\n          onChange={e => setProdutoSelecionado({...produtoSelecionado, valor: formatarParaMoeda(e.target.value)})}\n        />\n\n      </AlertCadastro>\n      <Backdrop className={classes.backdrop} open={mostrarLoading}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n    </>\n  );\n}\n","import React from 'react';\nimport { Switch } from 'react-router-dom';\nimport Route from './Route';\nimport Login from 'pages/Login';\nimport Produto from 'pages/Produto';\n\n\nexport default function Routes() {\n  return (\n    <Switch>\n      <Route path=\"/\" exact component={Login} isPrivate={false} />\n      <Route path=\"/produto\" component={Produto} isPrivate />\n      <Route path=\"/\" isPrivate={false}  component={() => <h1>Page not found</h1>} />\n    </Switch>\n  );\n}\n\n","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n* {\n\tpadding: 0;\n\tmargin: 0;\n\toutline: 0;\n  box-sizing: border-box;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n*:focus{\n  outline: 0;\n}\n\nhtml, body, #root {\n\theight: 100%\n}\n\nbody {\n  -webkit-font-smoothing: antialiased;\n}\n\nbody, input, button {\n  font: 14px 'Roboto', sans-serif;\n}\n\na{\n  text-decoration: none;\n}\n\nul{\n  list-style: none;\n}\n\nbutton{\n  cursor: pointer;\n}\n`;\n","import React from 'react';\nimport Routes from './routes';\nimport { BrowserRouter } from 'react-router-dom';\nimport GlobalStyles from './global/styles';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes />\n      <GlobalStyles />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}